{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BoxItem",
    "require",
    "BoxState",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "speed",
    "acc_speed",
    "default",
    "tooltop",
    "boxItem",
    "type",
    "_state_b",
    "ENone",
    "state_b",
    "get",
    "set",
    "value",
    "ENormal",
    "select_item",
    "active",
    "EFalling",
    "ESelect",
    "EDestroy",
    "ESkillAround",
    "ESkillColor",
    "ESkillRank",
    "ESkillRaw",
    "statics",
    "init",
    "node",
    "getChildByName",
    "currentSpeed",
    "onLoad",
    "initBoxItem",
    "click_action",
    "console",
    "log",
    "rank",
    "row",
    "eliminate",
    "find",
    "getComponent",
    "click_item",
    "unuse",
    "reuse",
    "resetOriginPos",
    "x",
    "begin_x",
    "y",
    "begin_y",
    "color",
    "color_show",
    "update",
    "dt",
    "end_y",
    "box_bottom",
    "height",
    "speed_n",
    "s",
    "animation",
    "Animation",
    "play",
    "module",
    "exports"
  ],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "\r\nvar BoxItem = require(\"BoxItem\");\r\n\r\nvar BoxState = require(\"States\").BoxState;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n        speed:0,\r\n\r\n        acc_speed:{\r\n            default:9.8,\r\n            tooltop:\"加速度\"\r\n        },\r\n\r\n        boxItem:{\r\n            default:null,\r\n            type:BoxItem,\r\n            //visible:false,\r\n        },\r\n\r\n\r\n        _state_b:{\r\n            default:BoxState.ENone,\r\n            type:BoxState,\r\n            // visible:false\r\n        },\r\n\r\n        state_b:{\r\n\r\n            get:function () {\r\n                return this._state_b;\r\n            },\r\n\r\n            set:function (value) {\r\n\r\n                if(this._state_b !== value){\r\n\r\n                    this._state_b = value;\r\n\r\n                    switch (value) {\r\n                        case BoxState.ENormal:\r\n                            this.select_item.active = false;\r\n\r\n                            break;\r\n\r\n                        case BoxState.EFalling:\r\n                            this.select_item.active = false;\r\n\r\n                            break;\r\n\r\n                        case BoxState.ESelect:\r\n                            this.select_item.active = true;\r\n                            break;\r\n\r\n                        case BoxState.EDestroy:\r\n                            this.select_item.active = true;\r\n\r\n                            break;\r\n\r\n                        case BoxState.ESkillAround:\r\n                            break;\r\n\r\n                        case BoxState.ESkillColor:\r\n                            break;\r\n\r\n                        case BoxState.ESkillRank:\r\n                            break;\r\n\r\n                        case BoxState.ESkillRaw:\r\n                            break;\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            type:BoxState,\r\n\r\n            // tooltop:\"方块的状态\"\r\n        },\r\n\r\n    },\r\n\r\n    statics:{\r\n        BoxState:BoxState\r\n    },\r\n\r\n    init(){\r\n\r\n        this.select_item = this.node.getChildByName(\"sel\");\r\n\r\n        this.state_b = BoxState.ENormal;\r\n        this.currentSpeed = this.speed;\r\n\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        // this.click_add();\r\n\r\n        \r\n    },\r\n\r\n    initBoxItem:function(){\r\n        if(!this.boxItem){\r\n            this.boxItem = new BoxItem();    \r\n        }\r\n    },\r\n\r\n    click_action:function(){\r\n        \r\n        console.log(\"点击了   \"+\"rank=\"+this.boxItem.rank+\"row=\"+this.boxItem.row);\r\n\r\n        let eliminate = cc.find(\"Game/Eliminate\").getComponent(\"Eliminate\");\r\n        eliminate.click_item(this);\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    unuse:function(){\r\n        console.log(\"xiaohui\");\r\n    },\r\n\r\n    reuse:function(){\r\n        console.log(\"chongyong\");\r\n\r\n        this.state_b = BoxState.ENormal;\r\n    },\r\n\r\n\r\n    resetOriginPos:function(){\r\n\r\n        this.node.x = this.boxItem.begin_x;\r\n        this.node.y = this.boxItem.begin_y;\r\n\r\n\r\n        this.node.color = this.boxItem.color_show;\r\n\r\n    },\r\n\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n\r\n        if(this.node.y === this.boxItem.end_y &&\r\n            this.node.x === this.boxItem.begin_x){\r\n            return;\r\n        }\r\n\r\n        let box_bottom = this.node.y + this.node.height * 0.5;\r\n\r\n        if (box_bottom > this.boxItem.end_y) {\r\n            //加速度掉落\r\n\r\n            let speed_n = this.currentSpeed + this.acc_speed*dt;\r\n            let s = (speed_n + this.currentSpeed )*0.5 * dt;\r\n\r\n            this.currentSpeed = speed_n;\r\n\r\n            this.node.y -= s;\r\n        }\r\n\r\n        if (this.node.y < this.boxItem.end_y) {\r\n\r\n            /**\r\n             * 掉落到指定位置的时候弹动一下\r\n             */\r\n\r\n            this.node.y = this.boxItem.end_y;\r\n\r\n            let animation = this.getComponent(cc.Animation);\r\n            animation.play(\"ani_box\");\r\n        }\r\n\r\n\r\n        if (this.node.x > this.boxItem.begin_x) {\r\n            this.node.x -= this.speed * dt;\r\n        }\r\n\r\n        if (this.node.x < this.boxItem.begin_x) {\r\n            this.node.x = this.boxItem.begin_x;\r\n        }\r\n    },\r\n});\r\n\r\n\r\nmodule.exports = {\r\n  BoxState\r\n};"
  ]
}