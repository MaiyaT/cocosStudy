{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [],
  "mappings": "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",
  "file": "unknown",
  "sourcesContent": [
    "\r\nvar BoxItem = require(\"BoxItem\");\r\n\r\nvar BoxState = require(\"States\").BoxState;\r\nvar BoxShowType = require(\"States\").BoxShowType;\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n        speed:0,\r\n\r\n        acc_speed:{\r\n            default:9.8,\r\n            tooltop:\"加速度\"\r\n        },\r\n\r\n        boxItem:{\r\n            default:null,\r\n            type:BoxItem,\r\n            //visible:false,\r\n        },\r\n\r\n\r\n        _showType:{\r\n            default:BoxShowType.K_Normal,\r\n            type:BoxShowType\r\n        },\r\n\r\n        showType:{\r\n\r\n            get:function () {\r\n                return this._showType;\r\n            },\r\n\r\n            set:function (value) {\r\n\r\n                switch (value) {\r\n                    case BoxShowType.K_Normal:\r\n                        this.select_item.active = false;\r\n\r\n                        break;\r\n\r\n                    case BoxShowType.K_Select:\r\n                        this.select_item.active = true;\r\n\r\n                        break;\r\n\r\n                    case BoxShowType.K_SkillAround:\r\n\r\n\r\n                        break;\r\n\r\n                    case BoxShowType.K_SkillColor:\r\n\r\n\r\n                        break;\r\n\r\n                    case BoxShowType.K_SkillRank:\r\n\r\n\r\n\r\n                        break;\r\n\r\n                    case BoxShowType.K_SkillRaw:\r\n\r\n                        break;\r\n\r\n                }\r\n\r\n            },\r\n        },\r\n\r\n\r\n\r\n        _state_b:{\r\n            default:BoxState.ENormal,\r\n            type:BoxState,\r\n            // visible:false\r\n        },\r\n\r\n        state_b:{\r\n\r\n            get:function () {\r\n                return this._state_b;\r\n            },\r\n\r\n            set:function (value) {\r\n\r\n                if(this._state_b !== value){\r\n\r\n                    this._state_b = value;\r\n\r\n                    this.currentSpeed = this.speed;\r\n\r\n                    let animation = this.getComponent(cc.Animation);\r\n\r\n                    switch (value) {\r\n                        case BoxState.ENormal:\r\n\r\n                            break;\r\n\r\n                        case BoxState.EFalling:\r\n\r\n\r\n                            break;\r\n\r\n                        case BoxState.EFalled:\r\n                            animation.play(\"ani_box\");\r\n\r\n                            break;\r\n\r\n                        case BoxState.EDestroy:\r\n                            console.log(\"摧毁吹asd\");\r\n                            // this.node.color = cc.color(255,255,255,255);\r\n                            // animation.play(\"box_destroy\");\r\n\r\n\r\n                            break;\r\n\r\n                    }\r\n\r\n                }\r\n            },\r\n\r\n            type:BoxState,\r\n\r\n            // tooltop:\"方块的状态\"\r\n        },\r\n\r\n    },\r\n\r\n    statics:{\r\n        BoxState:BoxState\r\n    },\r\n\r\n    init(){\r\n\r\n        this.select_item = this.node.getChildByName(\"sel\");\r\n        this.currentSpeed = 0;\r\n\r\n        this.state_b = BoxState.ENormal;\r\n        this.showType = BoxShowType.K_Normal;\r\n    },\r\n\r\n\r\n    unuse:function(){\r\n        console.log(\"xiaohui\");\r\n\r\n        this.state_b = BoxState.ENormal;\r\n        this.showType = BoxShowType.K_Normal;\r\n        this.node.y = -100000;\r\n\r\n    },\r\n\r\n    reuse:function(){\r\n        console.log(\"chongyong\");\r\n\r\n        this.state_b = BoxState.ENormal;\r\n        this.showType = BoxShowType.K_Normal;\r\n    },\r\n\r\n\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n        // this.click_add();\r\n\r\n        \r\n    },\r\n\r\n    initBoxItem:function(){\r\n        if(!this.boxItem){\r\n            this.boxItem = new BoxItem();    \r\n        }\r\n    },\r\n\r\n    click_action:function(){\r\n        \r\n        console.log(\"点击了   \"+\"rank=\"+this.boxItem.rank+\"row=\"+this.boxItem.row);\r\n\r\n        let eliminate = cc.find(\"Game/Eliminate\").getComponent(\"Eliminate\");\r\n        eliminate.click_item(this);\r\n    },\r\n\r\n\r\n\r\n    destroyFinish:function () {\r\n\r\n        //动画结束之后的回调\r\n        this.node.opacity = 255;\r\n\r\n        console.log(\"摧毁动画完成\");\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n    resetOriginPos:function(){\r\n\r\n        this.node.x = this.boxItem.begin_x;\r\n        this.node.y = this.boxItem.begin_y;\r\n\r\n\r\n        this.node.color = this.boxItem.color_show;\r\n\r\n    },\r\n\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    update: function (dt) {\r\n\r\n        //如果是正在掉落的 刷新endy 的坐标\r\n        // if(this.state_b === BoxState.EFalling ||\r\n        //     this.state_b === BoxState.EDestroy){\r\n        if(this.state_b === BoxState.EFalling){\r\n\r\n            let box_bottom = this.node.y + this.node.height * 0.5;\r\n\r\n            if (box_bottom > this.boxItem.end_y) {\r\n                //加速度掉落\r\n\r\n                let speed_n = this.currentSpeed + this.acc_speed*dt;\r\n                let s = (speed_n + this.currentSpeed )*0.5 * dt;\r\n\r\n                this.currentSpeed = speed_n;\r\n\r\n                this.node.y -= s;\r\n            }\r\n\r\n            if (this.node.y < this.boxItem.end_y) {\r\n\r\n                /**\r\n                 * 掉落到指定位置的时候弹动一下\r\n                 */\r\n\r\n                this.node.y = this.boxItem.end_y;\r\n\r\n                if(this.state_b === BoxState.EFalling){\r\n                    this.state_b = BoxState.EFalled;\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        // if (this.node.x > this.boxItem.begin_x) {\r\n        //     this.node.x -= this.speed * dt;\r\n        // }\r\n        //\r\n        // if (this.node.x < this.boxItem.begin_x) {\r\n        //     this.node.x = this.boxItem.begin_x;\r\n        // }\r\n    },\r\n});\r\n\r\n"
  ]
}