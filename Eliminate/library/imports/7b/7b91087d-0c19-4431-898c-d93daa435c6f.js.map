{
  "version": 3,
  "sources": [
    "unknown"
  ],
  "names": [
    "BoxDrop",
    "require",
    "BoxItem",
    "cc",
    "Class",
    "extends",
    "Component",
    "properties",
    "_select_box",
    "default",
    "type",
    "Node",
    "visible",
    "select_box",
    "get",
    "set",
    "value",
    "state_b",
    "BoxState",
    "ESelect",
    "boxItem_new",
    "getComponent",
    "boxItem",
    "boxItem_old",
    "id",
    "console",
    "log",
    "ENormal",
    "rank",
    "Math",
    "abs",
    "row",
    "boxPanel",
    "find",
    "exchangeBoxItem",
    "onLoad",
    "click_item",
    "click_node"
  ],
  "mappings": ";;AACA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;;AAEAE,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,qBAAY;AACRC,qBAAQ,IADA;AAERC,kBAAKP,GAAGQ,IAFA;AAGRC,qBAAQ;AAHA,SAFJ;;AAQR;AACAC,oBAAY;AACRC,iBAAK,eAAY;AACb,uBAAO,KAAKN,WAAZ;AACH,aAHO;AAIRO,iBAAK,aAAUC,KAAV,EAAiB;AAClB,oBAAI,CAAC,KAAKH,UAAV,EAAsB;;AAElBG,0BAAMC,OAAN,GAAgBC,SAASC,OAAzB;AACA,yBAAKX,WAAL,GAAmBQ,KAAnB;AAEH,iBALD,MAKO;AACH,wBAAII,cAAcJ,MAAMK,YAAN,CAAmB,SAAnB,EAA8BC,OAAhD;AACA,wBAAIC,cAAc,KAAKf,WAAL,CAAiBa,YAAjB,CAA8B,SAA9B,EAAyCC,OAA3D;AACA,wBAAIF,YAAYI,EAAZ,KAAmBD,YAAYC,EAAnC,EAAuC;AACnC;AACAC,gCAAQC,GAAR,CAAY,WAAWN,YAAYI,EAAvB,GAA4B,SAA5B,GAAwCD,YAAYC,EAAhE;AACA;AACA,6BAAKhB,WAAL,CAAiBS,OAAjB,GAA2BC,SAASS,OAApC;;AAEA,4BAAKP,YAAYQ,IAAZ,KAAqBL,YAAYK,IAAjC,IAAyCC,KAAKC,GAAL,CAASV,YAAYW,GAAZ,GAAkBR,YAAYQ,GAAvC,MAAgD,CAA1F,IACCX,YAAYW,GAAZ,KAAoBR,YAAYQ,GAAhC,IAAuCF,KAAKC,GAAL,CAASV,YAAYQ,IAAZ,GAAmBL,YAAYK,IAAxC,MAAkD,CAD9F,EACkG;AAC9F;;AAEA,gCAAII,WAAW7B,GAAG8B,IAAH,CAAQ,YAAR,EAAsBZ,YAAtB,CAAmC,UAAnC,CAAf;AACAW,qCAASE,eAAT,CAAyBd,WAAzB,EAAsCG,WAAtC;;AAEA,iCAAKf,WAAL,GAAmB,IAAnB;AACH,yBARD,MASK;AACD;;AAEAQ,kCAAMC,OAAN,GAAgBC,SAASC,OAAzB;;AAEA,iCAAKX,WAAL,GAAmBQ,KAAnB;AACH;AAEJ,qBAvBD,MAuBO;AACH;AACAA,8BAAMC,OAAN,GAAgBC,SAASS,OAAzB;;AAEA,6BAAKnB,WAAL,GAAmB,IAAnB;AACH;AACJ;AACJ,aA3CO;AA4CRI,qBAAQ;AA5CA;;AATJ,KAHP;;AA6DL;AACAuB,YAAQ,kBAAY,CAInB,CAlEI;;AAqEL;AACAC,gBAAW,oBAASC,UAAT,EAAoB;;AAE3B;;AAEC,YAAIL,WAAW7B,GAAG8B,IAAH,CAAQ,YAAR,EAAsBZ,YAAtB,CAAmC,UAAnC,CAAf;;AAEA,YAAIC,UAAUe,WAAWhB,YAAX,CAAwB,SAAxB,EAAmCC,OAAjD;;AAED;AACA;;AAEA;AACA;;;AAGC,aAAKT,UAAL,GAAkBwB,UAAlB;AACJ;;AAtFI,CAAT",
  "file": "unknown",
  "sourcesContent": [
    "\r\nvar BoxDrop = require(\"BoxDrop\");\r\nvar BoxItem = require(\"BoxItem\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        \r\n        _select_box:{\r\n            default:null,\r\n            type:cc.Node,\r\n            visible:false,\r\n        },\r\n\r\n        //选中某个方块\r\n        select_box: {\r\n            get: function () {\r\n                return this._select_box;\r\n            },\r\n            set: function (value) {\r\n                if (!this.select_box) {\r\n\r\n                    value.state_b = BoxState.ESelect;\r\n                    this._select_box = value;\r\n\r\n                } else {\r\n                    let boxItem_new = value.getComponent(\"BoxDrop\").boxItem;\r\n                    let boxItem_old = this._select_box.getComponent(\"BoxDrop\").boxItem;\r\n                    if (boxItem_new.id !== boxItem_old.id) {\r\n                        // console.log(\"看是否要交互位置 还是说切换到这个选中的位置处理\");\r\n                        console.log(\"id1 = \" + boxItem_new.id + \"  id2= \" + boxItem_old.id);\r\n                        //旧的取消选择\r\n                        this._select_box.state_b = BoxState.ENormal;\r\n\r\n                        if ((boxItem_new.rank === boxItem_old.rank && Math.abs(boxItem_new.row - boxItem_old.row) === 1) ||\r\n                            (boxItem_new.row === boxItem_old.row && Math.abs(boxItem_new.rank - boxItem_old.rank) === 1)) {\r\n                            // console.log(\"是相近的 交换位置\");\r\n\r\n                            let boxPanel = cc.find(\"Game/Panel\").getComponent(\"BoxPanel\");\r\n                            boxPanel.exchangeBoxItem(boxItem_new, boxItem_old);\r\n\r\n                            this._select_box = null;\r\n                        }\r\n                        else {\r\n                            // console.log(\"不是相近的 取消上一个选择 选中新点击的\");\r\n\r\n                            value.state_b = BoxState.ESelect;\r\n\r\n                            this._select_box = value;\r\n                        }\r\n\r\n                    } else {\r\n                        // console.log(\"选中了同一个 取消选择\");\r\n                        value.state_b = BoxState.ENormal;\r\n\r\n                        this._select_box = null;\r\n                    }\r\n                }\r\n            },\r\n            visible:false\r\n        }\r\n        \r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function () {\r\n\r\n\r\n\r\n    },\r\n\r\n\r\n    //点击了 某个选项\r\n    click_item:function(click_node){\r\n        \r\n        //console.log(item);\r\n\r\n         let boxPanel = cc.find(\"Game/Panel\").getComponent(\"BoxPanel\");\r\n\r\n         let boxItem = click_node.getComponent(\"BoxDrop\").boxItem;\r\n\r\n        //  //消除掉\r\n        //  boxPanel.boxDrop_destroy(click_node);\r\n\r\n        //  //上面的掉下来\r\n        //  boxPanel.updateRankEndY(boxItem.rank);\r\n\r\n\r\n         this.select_box = click_node;\r\n    },\r\n\r\n    // called every frame, uncomment this function to activate update callback\r\n    // update: function (dt) {\r\n\r\n    // },\r\n});\r\n"
  ]
}